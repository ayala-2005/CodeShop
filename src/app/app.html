<header class="header">
  <div class="header-right">
    <button class="auth-btn" (click)="openUserArea()">
      {{ isLoggedIn() ? "砖, " + (currentUser()?.customerName || "砖转砖") : "专 砖" }}
    </button>

    <div class="user-menu" *ngIf="showUserMenu()">
      <ng-container *ngIf="isLoggedIn(); else notLogged">
        <a (click)="router.navigate(['/MyPurchas']); showUserMenu.set(false)">转 砖</a>
        <a (click)="logoutUser()">转转拽转</a>
      </ng-container>

      <ng-template #notLogged>
        <a (click)="openAuthForm('login')">转专转</a>
        <a (click)="openAuthForm('signup')">专砖</a>
      </ng-template>
    </div>

   <a routerLink="/shopping-cart" class="cart-icon">
    
</a>

  </div>

  <nav class="nav">
    <ul class="nav__links">
      <li class="nav__link" [class.active]="activeLink() === 'home'" (click)="setActive('home', $event)">
        <a routerLink="/home-page">祝 转</a>
      </li>
      <li class="nav__link" [class.active]="activeLink() === 'products'" (click)="setActive('products', $event)">
        <a routerLink="/menu">爪专</a>
      </li>
      <li class="nav__link" [class.active]="activeLink() === 'about'" (click)="setActive('about', $event)">
        <a routerLink="/about">转</a>
      </li>
      <li class="nav__link" [class.active]="activeLink() === 'kesher'" (click)="setActive('kesher', $event); scrollToFooter()">
        <a style="cursor: pointer;">爪专 拽砖专 </a>
      </li>
      <div class="nav__light"></div>
    </ul>
  </nav>

  <img src="assets/logo.png" class="logo" />
</header>

<!--  专 -->
<div class="modal-backdrop" *ngIf="showAuthModal()" (click)="closeAuthModal()"></div>

<div class="auth-modal" *ngIf="showAuthModal()">
  <h2>{{ loginOrSignup() === 'login' ? '转专转' : '专砖' }}</h2>

  <!-- 注转 砖 -->
  <div class="error-message" *ngIf="showError()">
    <i class='bx bx-error-circle'></i>
    <span>{{ errorMessage() }}</span>
  </div>

  <form>
    <input 
      type="email" 
      placeholder="" 
      [(ngModel)]="email" 
      name="email" 
      required
      [class.error-input]="showError() && !email"
    />
    
    <input 
      *ngIf="loginOrSignup() === 'signup'" 
      type="text" 
      placeholder="砖 " 
      [(ngModel)]="name" 
      name="name" 
      required
      [class.error-input]="showError() && !name"
    />
    
    <input 
      type="tel" 
      placeholder="驻" 
      [(ngModel)]="phone" 
      name="phone" 
      required
      [class.error-input]="showError() && !phone"
    />
    
    <input 
      *ngIf="loginOrSignup() === 'signup'" 
      type="date" 
      placeholder="转专  (驻爪)" 
      [(ngModel)]="birthDate" 
      name="birthDate" 
    />
    
    <button 
      type="button" 
      (click)="loginOrSignup() === 'login' ? loginUser() : registerUser()"
    >
      {{ loginOrSignup() === 'login' ? '转专' : '专砖' }}
    </button>
  </form>

  <p class="switch-auth">
    {{ loginOrSignup() === 'login' ? '注  专砖?' : '专 专砖?' }}
    <a href="#" (click)="switchAuthForm($event)">
      {{ loginOrSignup() === 'login' ? '专砖' : '转专转' }}
    </a>
  </p>
</div>

<main class="main-content">
  <router-outlet></router-outlet>
</main>
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h3>CodeShop</h3>
        <p>拽 砖 拽转 拽 拽爪注</p>
        <p>拽 转转 转  砖驻转 砖转</p>
        <p>转 转   专砖</p>
        <p>注 砖驻 专住转 砖转</p>
      </div>
  
      <div class="footer-section">
        <h4>砖驻转 转转 驻驻专转</h4>
        <ul class="footer-links">
          <li><a routerLink="/menu">JavaScript / TypeScript</a></li>
          <li><a routerLink="/menu">Python</a></li>
          <li><a routerLink="/menu">Java / C#</a></li>
          <li><a routerLink="/menu">React / Angular</a></li>
          <li><a routerLink="/menu">PHP / Node.js</a></li>
        </ul>
      </div>
  
      <div class="footer-section">
        <h4>拽专转 拽</h4>
        <ul class="footer-links">
          <li><a routerLink="/menu">专转  转</a></li>
          <li><a routerLink="/menu">砖拽 砖转砖 (UI/UX)</a></li>
          <li><a routerLink="/menu">Backend & APIs</a></li>
          <li><a routerLink="/menu">住住 转</a></li>
          <li><a routerLink="/menu">转 注</a></li>
        </ul>
      </div>
  
      <div class="footer-section">
        <h4>爪专 拽砖专</h4>
        <p> 转 转: 24/7</p>
        <p> : support@codeshop.co.il</p>
        <p> 爪' :   注转</p>
        <p> WhatsApp: 054-CODE-123</p>
        <p> GitHub: @CodeShopOfficial</p>
      </div>
    </div>
  
    <div class="footer-bottom">
      <p>&copy; 2025 CodeShop.  拽 转 砖专 |  注 わ 注  驻转 驻转</p>
    </div>
  </footer>
